{"file_contents":{"components/Collapsible.tsx":{"content":"import { PropsWithChildren, useState } from 'react';\nimport { StyleSheet, TouchableOpacity } from 'react-native';\n\nimport { ThemedText } from '@/components/ThemedText';\nimport { ThemedView } from '@/components/ThemedView';\nimport { IconSymbol } from '@/components/ui/IconSymbol';\nimport { Colors } from '@/constants/Colors';\nimport { useColorScheme } from '@/hooks/useColorScheme';\n\nexport function Collapsible({ children, title }: PropsWithChildren & { title: string }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const theme = useColorScheme() ?? 'light';\n\n  return (\n    <ThemedView>\n      <TouchableOpacity\n        style={styles.heading}\n        onPress={() => setIsOpen((value) => !value)}\n        activeOpacity={0.8}>\n        <IconSymbol\n          name=\"chevron.right\"\n          size={18}\n          weight=\"medium\"\n          color={theme === 'light' ? Colors.light.icon : Colors.dark.icon}\n          style={{ transform: [{ rotate: isOpen ? '90deg' : '0deg' }] }}\n        />\n\n        <ThemedText type=\"defaultSemiBold\">{title}</ThemedText>\n      </TouchableOpacity>\n      {isOpen && <ThemedView style={styles.content}>{children}</ThemedView>}\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  heading: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n  },\n  content: {\n    marginTop: 6,\n    marginLeft: 24,\n  },\n});\n","size_bytes":1358},"constants/Colors.ts":{"content":"/**\n * Below are the colors that are used in the app. The colors are defined in the light and dark mode.\n * There are many other ways to style your app. For example, [Nativewind](https://www.nativewind.dev/), [Tamagui](https://tamagui.dev/), [unistyles](https://reactnativeunistyles.vercel.app), etc.\n */\n\nconst tintColorLight = '#0a7ea4';\nconst tintColorDark = '#fff';\n\nexport const Colors = {\n  light: {\n    text: '#11181C',\n    background: '#fff',\n    tint: tintColorLight,\n    icon: '#687076',\n    tabIconDefault: '#687076',\n    tabIconSelected: tintColorLight,\n  },\n  dark: {\n    text: '#ECEDEE',\n    background: '#151718',\n    tint: tintColorDark,\n    icon: '#9BA1A6',\n    tabIconDefault: '#9BA1A6',\n    tabIconSelected: tintColorDark,\n  },\n};\n","size_bytes":750},"app/+not-found.tsx":{"content":"import { Link, Stack } from 'expo-router';\nimport { StyleSheet } from 'react-native';\n\nimport { ThemedText } from '@/components/ThemedText';\nimport { ThemedView } from '@/components/ThemedView';\n\nexport default function NotFoundScreen() {\n  return (\n    <>\n      <Stack.Screen options={{ title: 'Oops!' }} />\n      <ThemedView style={styles.container}>\n        <ThemedText type=\"title\">This screen does not exist.</ThemedText>\n        <Link href=\"/\" style={styles.link}>\n          <ThemedText type=\"link\">Go to home screen!</ThemedText>\n        </Link>\n      </ThemedView>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n});\n","size_bytes":793},"app/(tabs)/index.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, Pressable, ScrollView } from 'react-native';\nimport { useRouter } from 'expo-router';\nimport { Ionicons } from '@expo/vector-icons';\nimport { theme } from '@/src/utils/theme';\nimport { hasApiKey } from '@/src/utils/storage';\n\nexport default function HomeScreen() {\n  const router = useRouter();\n  const [apiKeyExists, setApiKeyExists] = useState(false);\n\n  useEffect(() => {\n    checkApiKey();\n  }, []);\n\n  const checkApiKey = async () => {\n    const exists = await hasApiKey();\n    setApiKeyExists(exists);\n  };\n\n  const cards = [\n    {\n      title: 'Chat Mode',\n      description: 'Ask questions and have conversations with AI',\n      icon: 'chatbubbles' as const,\n      color: theme.colors.primary,\n      route: '/chat',\n    },\n    {\n      title: 'Automation',\n      description: 'Plan and execute automated tasks',\n      icon: 'settings' as const,\n      color: theme.colors.success,\n      route: '/automation',\n    },\n    {\n      title: 'API Setup',\n      description: 'Configure your OpenRouter API key',\n      icon: 'key' as const,\n      color: theme.colors.warning,\n      route: '/api-setup',\n    },\n  ];\n\n  return (\n    <ScrollView style={styles.container} contentContainerStyle={styles.contentContainer}>\n      <View style={styles.header}>\n        <Text style={styles.title}>AI Assistant</Text>\n        <Text style={styles.subtitle}>Your Android Automation Companion</Text>\n      </View>\n\n      <View style={styles.statusCard}>\n        <Ionicons \n          name={apiKeyExists ? 'checkmark-circle' : 'alert-circle'} \n          size={24} \n          color={apiKeyExists ? theme.colors.success : theme.colors.warning} \n        />\n        <Text style={styles.statusText}>\n          {apiKeyExists ? 'API Key Configured' : 'API Key Required'}\n        </Text>\n      </View>\n\n      <View style={styles.cardsContainer}>\n        {cards.map((card, index) => (\n          <Pressable\n            key={index}\n            style={({ pressed }) => [\n              styles.card,\n              pressed && styles.cardPressed,\n            ]}\n            onPress={() => router.push(card.route as any)}\n          >\n            <View style={[styles.iconContainer, { backgroundColor: card.color + '20' }]}>\n              <Ionicons name={card.icon} size={32} color={card.color} />\n            </View>\n            <View style={styles.cardContent}>\n              <Text style={styles.cardTitle}>{card.title}</Text>\n              <Text style={styles.cardDescription}>{card.description}</Text>\n            </View>\n            <Ionicons name=\"chevron-forward\" size={24} color={theme.colors.textSecondary} />\n          </Pressable>\n        ))}\n      </View>\n\n      <View style={styles.footer}>\n        <Text style={styles.footerText}>Powered by Polaris Alpha</Text>\n        <Text style={styles.footerSubtext}>Free tier available</Text>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  contentContainer: {\n    paddingVertical: theme.spacing.xl,\n    paddingHorizontal: theme.spacing.md,\n  },\n  header: {\n    marginBottom: theme.spacing.xl,\n  },\n  title: {\n    fontSize: theme.fontSizes.xxl,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    marginBottom: theme.spacing.sm,\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.textSecondary,\n  },\n  statusCard: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    padding: theme.spacing.md,\n    borderRadius: theme.borderRadius.md,\n    marginBottom: theme.spacing.xl,\n    gap: theme.spacing.md,\n  },\n  statusText: {\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.text,\n    fontWeight: '500',\n  },\n  cardsContainer: {\n    gap: theme.spacing.md,\n    marginBottom: theme.spacing.xl,\n  },\n  card: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    padding: theme.spacing.lg,\n    borderRadius: theme.borderRadius.lg,\n    ...theme.shadows.medium,\n  },\n  cardPressed: {\n    opacity: 0.8,\n    transform: [{ scale: 0.98 }],\n  },\n  iconContainer: {\n    width: 56,\n    height: 56,\n    borderRadius: theme.borderRadius.md,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: theme.spacing.md,\n  },\n  cardContent: {\n    flex: 1,\n  },\n  cardTitle: {\n    fontSize: theme.fontSizes.lg,\n    fontWeight: '600',\n    color: theme.colors.text,\n    marginBottom: theme.spacing.xs,\n  },\n  cardDescription: {\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textSecondary,\n  },\n  footer: {\n    alignItems: 'center',\n    paddingTop: theme.spacing.xl,\n  },\n  footerText: {\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textSecondary,\n    fontWeight: '500',\n  },\n  footerSubtext: {\n    fontSize: theme.fontSizes.xs,\n    color: theme.colors.textTertiary,\n    marginTop: theme.spacing.xs,\n  },\n});\n","size_bytes":4964},"components/ui/TabBarBackground.ios.tsx":{"content":"import { useBottomTabBarHeight } from '@react-navigation/bottom-tabs';\nimport { BlurView } from 'expo-blur';\nimport { StyleSheet } from 'react-native';\n\nexport default function BlurTabBarBackground() {\n  return (\n    <BlurView\n      // System chrome material automatically adapts to the system's theme\n      // and matches the native tab bar appearance on iOS.\n      tint=\"systemChromeMaterial\"\n      intensity={100}\n      style={StyleSheet.absoluteFill}\n    />\n  );\n}\n\nexport function useBottomTabOverflow() {\n  return useBottomTabBarHeight();\n}\n","size_bytes":547},"README.md":{"content":"# Welcome to your Expo app üëã\n\nThis is an [Expo](https://expo.dev) project created with [`create-expo-app`](https://www.npmjs.com/package/create-expo-app).\n\n## Get started\n\n1. Install dependencies\n\n   ```bash\n   npm install\n   ```\n\n2. Start the app\n\n   ```bash\n   npx expo start\n   ```\n\nIn the output, you'll find options to open the app in a\n\n- [development build](https://docs.expo.dev/develop/development-builds/introduction/)\n- [Android emulator](https://docs.expo.dev/workflow/android-studio-emulator/)\n- [iOS simulator](https://docs.expo.dev/workflow/ios-simulator/)\n- [Expo Go](https://expo.dev/go), a limited sandbox for trying out app development with Expo\n\nYou can start developing by editing the files inside the **app** directory. This project uses [file-based routing](https://docs.expo.dev/router/introduction).\n\n## Get a fresh project\n\nWhen you're ready, run:\n\n```bash\nnpm run reset-project\n```\n\nThis command will move the starter code to the **app-example** directory and create a blank **app** directory where you can start developing.\n\n## Learn more\n\nTo learn more about developing your project with Expo, look at the following resources:\n\n- [Expo documentation](https://docs.expo.dev/): Learn fundamentals, or go into advanced topics with our [guides](https://docs.expo.dev/guides).\n- [Learn Expo tutorial](https://docs.expo.dev/tutorial/introduction/): Follow a step-by-step tutorial where you'll create a project that runs on Android, iOS, and the web.\n\n## Join the community\n\nJoin our community of developers creating universal apps.\n\n- [Expo on GitHub](https://github.com/expo/expo): View our open source platform and contribute.\n- [Discord community](https://chat.expo.dev): Chat with Expo users and ask questions.\n","size_bytes":1741},"components/ui/TabBarBackground.tsx":{"content":"// This is a shim for web and Android where the tab bar is generally opaque.\nexport default undefined;\n\nexport function useBottomTabOverflow() {\n  return 0;\n}\n","size_bytes":159},"app/(tabs)/_layout.tsx":{"content":"import { Tabs } from 'expo-router';\nimport React from 'react';\nimport { Platform } from 'react-native';\n\nimport { HapticTab } from '@/components/HapticTab';\nimport { IconSymbol } from '@/components/ui/IconSymbol';\nimport TabBarBackground from '@/components/ui/TabBarBackground';\nimport { Colors } from '@/constants/Colors';\nimport { useColorScheme } from '@/hooks/useColorScheme';\n\nexport default function TabLayout() {\n  const colorScheme = useColorScheme();\n\n  return (\n    <Tabs\n      screenOptions={{\n        tabBarActiveTintColor: Colors[colorScheme ?? 'light'].tint,\n        headerShown: false,\n        tabBarButton: HapticTab,\n        tabBarBackground: TabBarBackground,\n        tabBarStyle: Platform.select({\n          ios: {\n            // Use a transparent background on iOS to show the blur effect\n            position: 'absolute',\n          },\n          default: {},\n        }),\n      }}>\n      <Tabs.Screen\n        name=\"index\"\n        options={{\n          title: 'Home',\n          tabBarIcon: ({ color }) => <IconSymbol size={28} name=\"house.fill\" color={color} />,\n        }}\n      />\n      <Tabs.Screen\n        name=\"explore\"\n        options={{\n          title: 'Explore',\n          tabBarIcon: ({ color }) => <IconSymbol size={28} name=\"paperplane.fill\" color={color} />,\n        }}\n      />\n    </Tabs>\n  );\n}\n","size_bytes":1328},"hooks/useColorScheme.web.ts":{"content":"import { useEffect, useState } from 'react';\nimport { useColorScheme as useRNColorScheme } from 'react-native';\n\n/**\n * To support static rendering, this value needs to be re-calculated on the client side for web\n */\nexport function useColorScheme() {\n  const [hasHydrated, setHasHydrated] = useState(false);\n\n  useEffect(() => {\n    setHasHydrated(true);\n  }, []);\n\n  const colorScheme = useRNColorScheme();\n\n  if (hasHydrated) {\n    return colorScheme;\n  }\n\n  return 'light';\n}\n","size_bytes":480},"components/HapticTab.tsx":{"content":"import { BottomTabBarButtonProps } from '@react-navigation/bottom-tabs';\nimport { PlatformPressable } from '@react-navigation/elements';\nimport * as Haptics from 'expo-haptics';\n\nexport function HapticTab(props: BottomTabBarButtonProps) {\n  return (\n    <PlatformPressable\n      {...props}\n      onPressIn={(ev) => {\n        if (process.env.EXPO_OS === 'ios') {\n          // Add a soft haptic feedback when pressing down on the tabs.\n          Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n        }\n        props.onPressIn?.(ev);\n      }}\n    />\n  );\n}\n","size_bytes":564},"components/HelloWave.tsx":{"content":"import { useEffect } from 'react';\nimport { StyleSheet } from 'react-native';\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withRepeat,\n  withSequence,\n  withTiming,\n} from 'react-native-reanimated';\n\nimport { ThemedText } from '@/components/ThemedText';\n\nexport function HelloWave() {\n  const rotationAnimation = useSharedValue(0);\n\n  useEffect(() => {\n    rotationAnimation.value = withRepeat(\n      withSequence(withTiming(25, { duration: 150 }), withTiming(0, { duration: 150 })),\n      4 // Run the animation 4 times\n    );\n  }, [rotationAnimation]);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ rotate: `${rotationAnimation.value}deg` }],\n  }));\n\n  return (\n    <Animated.View style={animatedStyle}>\n      <ThemedText style={styles.text}>üëã</ThemedText>\n    </Animated.View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  text: {\n    fontSize: 28,\n    lineHeight: 32,\n    marginTop: -6,\n  },\n});\n","size_bytes":939},"components/ThemedView.tsx":{"content":"import { View, type ViewProps } from 'react-native';\n\nimport { useThemeColor } from '@/hooks/useThemeColor';\n\nexport type ThemedViewProps = ViewProps & {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport function ThemedView({ style, lightColor, darkColor, ...otherProps }: ThemedViewProps) {\n  const backgroundColor = useThemeColor({ light: lightColor, dark: darkColor }, 'background');\n\n  return <View style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","size_bytes":468},"app/_layout.tsx":{"content":"import { DarkTheme, DefaultTheme, ThemeProvider } from '@react-navigation/native';\nimport { useFonts } from 'expo-font';\nimport { Stack } from 'expo-router';\nimport { StatusBar } from 'expo-status-bar';\nimport 'react-native-reanimated';\n\nimport { useColorScheme } from '@/hooks/useColorScheme';\n\nexport default function RootLayout() {\n  const colorScheme = useColorScheme();\n  const [loaded] = useFonts({\n    SpaceMono: require('../assets/fonts/SpaceMono-Regular.ttf'),\n  });\n\n  if (!loaded) {\n    return null;\n  }\n\n  return (\n    <ThemeProvider value={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n      <Stack>\n        <Stack.Screen name=\"(tabs)\" options={{ headerShown: false }} />\n        <Stack.Screen name=\"chat\" options={{ headerShown: true }} />\n        <Stack.Screen name=\"automation\" options={{ headerShown: true }} />\n        <Stack.Screen name=\"api-setup\" options={{ headerShown: true }} />\n        <Stack.Screen name=\"+not-found\" />\n      </Stack>\n      <StatusBar style=\"auto\" />\n    </ThemeProvider>\n  );\n}\n","size_bytes":1028},"hooks/useColorScheme.ts":{"content":"export { useColorScheme } from 'react-native';\n","size_bytes":47},"components/ParallaxScrollView.tsx":{"content":"import type { PropsWithChildren, ReactElement } from 'react';\nimport { StyleSheet } from 'react-native';\nimport Animated, {\n  interpolate,\n  useAnimatedRef,\n  useAnimatedStyle,\n  useScrollViewOffset,\n} from 'react-native-reanimated';\n\nimport { ThemedView } from '@/components/ThemedView';\nimport { useBottomTabOverflow } from '@/components/ui/TabBarBackground';\nimport { useColorScheme } from '@/hooks/useColorScheme';\n\nconst HEADER_HEIGHT = 250;\n\ntype Props = PropsWithChildren<{\n  headerImage: ReactElement;\n  headerBackgroundColor: { dark: string; light: string };\n}>;\n\nexport default function ParallaxScrollView({\n  children,\n  headerImage,\n  headerBackgroundColor,\n}: Props) {\n  const colorScheme = useColorScheme() ?? 'light';\n  const scrollRef = useAnimatedRef<Animated.ScrollView>();\n  const scrollOffset = useScrollViewOffset(scrollRef);\n  const bottom = useBottomTabOverflow();\n  const headerAnimatedStyle = useAnimatedStyle(() => {\n    return {\n      transform: [\n        {\n          translateY: interpolate(\n            scrollOffset.value,\n            [-HEADER_HEIGHT, 0, HEADER_HEIGHT],\n            [-HEADER_HEIGHT / 2, 0, HEADER_HEIGHT * 0.75]\n          ),\n        },\n        {\n          scale: interpolate(scrollOffset.value, [-HEADER_HEIGHT, 0, HEADER_HEIGHT], [2, 1, 1]),\n        },\n      ],\n    };\n  });\n\n  return (\n    <ThemedView style={styles.container}>\n      <Animated.ScrollView\n        ref={scrollRef}\n        scrollEventThrottle={16}\n        scrollIndicatorInsets={{ bottom }}\n        contentContainerStyle={{ paddingBottom: bottom }}>\n        <Animated.View\n          style={[\n            styles.header,\n            { backgroundColor: headerBackgroundColor[colorScheme] },\n            headerAnimatedStyle,\n          ]}>\n          {headerImage}\n        </Animated.View>\n        <ThemedView style={styles.content}>{children}</ThemedView>\n      </Animated.ScrollView>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    height: HEADER_HEIGHT,\n    overflow: 'hidden',\n  },\n  content: {\n    flex: 1,\n    padding: 32,\n    gap: 16,\n    overflow: 'hidden',\n  },\n});\n","size_bytes":2143},"hooks/useThemeColor.ts":{"content":"/**\n * Learn more about light and dark modes:\n * https://docs.expo.dev/guides/color-schemes/\n */\n\nimport { Colors } from '@/constants/Colors';\nimport { useColorScheme } from '@/hooks/useColorScheme';\n\nexport function useThemeColor(\n  props: { light?: string; dark?: string },\n  colorName: keyof typeof Colors.light & keyof typeof Colors.dark\n) {\n  const theme = useColorScheme() ?? 'light';\n  const colorFromProps = props[theme];\n\n  if (colorFromProps) {\n    return colorFromProps;\n  } else {\n    return Colors[theme][colorName];\n  }\n}\n","size_bytes":536},"components/ExternalLink.tsx":{"content":"import { Href, Link } from 'expo-router';\nimport { openBrowserAsync } from 'expo-web-browser';\nimport { type ComponentProps } from 'react';\nimport { Platform } from 'react-native';\n\ntype Props = Omit<ComponentProps<typeof Link>, 'href'> & { href: Href & string };\n\nexport function ExternalLink({ href, ...rest }: Props) {\n  return (\n    <Link\n      target=\"_blank\"\n      {...rest}\n      href={href}\n      onPress={async (event) => {\n        if (Platform.OS !== 'web') {\n          // Prevent the default behavior of linking to the default browser on native.\n          event.preventDefault();\n          // Open the link in an in-app browser.\n          await openBrowserAsync(href);\n        }\n      }}\n    />\n  );\n}\n","size_bytes":713},"eslint.config.js":{"content":"// https://docs.expo.dev/guides/using-eslint/\nconst { defineConfig } = require('eslint/config');\nconst expoConfig = require('eslint-config-expo/flat');\n\nmodule.exports = defineConfig([\n  expoConfig,\n  {\n    ignores: ['dist/*'],\n  },\n]);\n","size_bytes":237},"scripts/reset-project.js":{"content":"#!/usr/bin/env node\n\n/**\n * This script is used to reset the project to a blank state.\n * It deletes or moves the /app, /components, /hooks, /scripts, and /constants directories to /app-example based on user input and creates a new /app directory with an index.tsx and _layout.tsx file.\n * You can remove the `reset-project` script from package.json and safely delete this file after running it.\n */\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst readline = require(\"readline\");\n\nconst root = process.cwd();\nconst oldDirs = [\"app\", \"components\", \"hooks\", \"constants\", \"scripts\"];\nconst exampleDir = \"app-example\";\nconst newAppDir = \"app\";\nconst exampleDirPath = path.join(root, exampleDir);\n\nconst indexContent = `import { Text, View } from \"react-native\";\n\nexport default function Index() {\n  return (\n    <View\n      style={{\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <Text>Edit app/index.tsx to edit this screen.</Text>\n    </View>\n  );\n}\n`;\n\nconst layoutContent = `import { Stack } from \"expo-router\";\n\nexport default function RootLayout() {\n  return <Stack />;\n}\n`;\n\nconst rl = readline.createInterface({\n  input: process.stdin,\n  output: process.stdout,\n});\n\nconst moveDirectories = async (userInput) => {\n  try {\n    if (userInput === \"y\") {\n      // Create the app-example directory\n      await fs.promises.mkdir(exampleDirPath, { recursive: true });\n      console.log(`üìÅ /${exampleDir} directory created.`);\n    }\n\n    // Move old directories to new app-example directory or delete them\n    for (const dir of oldDirs) {\n      const oldDirPath = path.join(root, dir);\n      if (fs.existsSync(oldDirPath)) {\n        if (userInput === \"y\") {\n          const newDirPath = path.join(root, exampleDir, dir);\n          await fs.promises.rename(oldDirPath, newDirPath);\n          console.log(`‚û°Ô∏è /${dir} moved to /${exampleDir}/${dir}.`);\n        } else {\n          await fs.promises.rm(oldDirPath, { recursive: true, force: true });\n          console.log(`‚ùå /${dir} deleted.`);\n        }\n      } else {\n        console.log(`‚û°Ô∏è /${dir} does not exist, skipping.`);\n      }\n    }\n\n    // Create new /app directory\n    const newAppDirPath = path.join(root, newAppDir);\n    await fs.promises.mkdir(newAppDirPath, { recursive: true });\n    console.log(\"\\nüìÅ New /app directory created.\");\n\n    // Create index.tsx\n    const indexPath = path.join(newAppDirPath, \"index.tsx\");\n    await fs.promises.writeFile(indexPath, indexContent);\n    console.log(\"üìÑ app/index.tsx created.\");\n\n    // Create _layout.tsx\n    const layoutPath = path.join(newAppDirPath, \"_layout.tsx\");\n    await fs.promises.writeFile(layoutPath, layoutContent);\n    console.log(\"üìÑ app/_layout.tsx created.\");\n\n    console.log(\"\\n‚úÖ Project reset complete. Next steps:\");\n    console.log(\n      `1. Run \\`npx expo start\\` to start a development server.\\n2. Edit app/index.tsx to edit the main screen.${\n        userInput === \"y\"\n          ? `\\n3. Delete the /${exampleDir} directory when you're done referencing it.`\n          : \"\"\n      }`\n    );\n  } catch (error) {\n    console.error(`‚ùå Error during script execution: ${error.message}`);\n  }\n};\n\nrl.question(\n  \"Do you want to move existing files to /app-example instead of deleting them? (Y/n): \",\n  (answer) => {\n    const userInput = answer.trim().toLowerCase() || \"y\";\n    if (userInput === \"y\" || userInput === \"n\") {\n      moveDirectories(userInput).finally(() => rl.close());\n    } else {\n      console.log(\"‚ùå Invalid input. Please enter 'Y' or 'N'.\");\n      rl.close();\n    }\n  }\n);\n","size_bytes":3608},"components/ThemedText.tsx":{"content":"import { StyleSheet, Text, type TextProps } from 'react-native';\n\nimport { useThemeColor } from '@/hooks/useThemeColor';\n\nexport type ThemedTextProps = TextProps & {\n  lightColor?: string;\n  darkColor?: string;\n  type?: 'default' | 'title' | 'defaultSemiBold' | 'subtitle' | 'link';\n};\n\nexport function ThemedText({\n  style,\n  lightColor,\n  darkColor,\n  type = 'default',\n  ...rest\n}: ThemedTextProps) {\n  const color = useThemeColor({ light: lightColor, dark: darkColor }, 'text');\n\n  return (\n    <Text\n      style={[\n        { color },\n        type === 'default' ? styles.default : undefined,\n        type === 'title' ? styles.title : undefined,\n        type === 'defaultSemiBold' ? styles.defaultSemiBold : undefined,\n        type === 'subtitle' ? styles.subtitle : undefined,\n        type === 'link' ? styles.link : undefined,\n        style,\n      ]}\n      {...rest}\n    />\n  );\n}\n\nconst styles = StyleSheet.create({\n  default: {\n    fontSize: 16,\n    lineHeight: 24,\n  },\n  defaultSemiBold: {\n    fontSize: 16,\n    lineHeight: 24,\n    fontWeight: '600',\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    lineHeight: 32,\n  },\n  subtitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  link: {\n    lineHeight: 30,\n    fontSize: 16,\n    color: '#0a7ea4',\n  },\n});\n","size_bytes":1283},"components/ui/IconSymbol.ios.tsx":{"content":"import { SymbolView, SymbolViewProps, SymbolWeight } from 'expo-symbols';\nimport { StyleProp, ViewStyle } from 'react-native';\n\nexport function IconSymbol({\n  name,\n  size = 24,\n  color,\n  style,\n  weight = 'regular',\n}: {\n  name: SymbolViewProps['name'];\n  size?: number;\n  color: string;\n  style?: StyleProp<ViewStyle>;\n  weight?: SymbolWeight;\n}) {\n  return (\n    <SymbolView\n      weight={weight}\n      tintColor={color}\n      resizeMode=\"scaleAspectFit\"\n      name={name}\n      style={[\n        {\n          width: size,\n          height: size,\n        },\n        style,\n      ]}\n    />\n  );\n}\n","size_bytes":598},"app/(tabs)/explore.tsx":{"content":"import { Image } from 'expo-image';\nimport { Platform, StyleSheet } from 'react-native';\n\nimport { Collapsible } from '@/components/Collapsible';\nimport { ExternalLink } from '@/components/ExternalLink';\nimport ParallaxScrollView from '@/components/ParallaxScrollView';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ThemedView } from '@/components/ThemedView';\nimport { IconSymbol } from '@/components/ui/IconSymbol';\n\nexport default function TabTwoScreen() {\n  return (\n    <ParallaxScrollView\n      headerBackgroundColor={{ light: '#D0D0D0', dark: '#353636' }}\n      headerImage={\n        <IconSymbol\n          size={310}\n          color=\"#808080\"\n          name=\"chevron.left.forwardslash.chevron.right\"\n          style={styles.headerImage}\n        />\n      }>\n      <ThemedView style={styles.titleContainer}>\n        <ThemedText type=\"title\">Explore</ThemedText>\n      </ThemedView>\n      <ThemedText>This app includes example code to help you get started.</ThemedText>\n      <Collapsible title=\"File-based routing\">\n        <ThemedText>\n          This app has two screens:{' '}\n          <ThemedText type=\"defaultSemiBold\">app/(tabs)/index.tsx</ThemedText> and{' '}\n          <ThemedText type=\"defaultSemiBold\">app/(tabs)/explore.tsx</ThemedText>\n        </ThemedText>\n        <ThemedText>\n          The layout file in <ThemedText type=\"defaultSemiBold\">app/(tabs)/_layout.tsx</ThemedText>{' '}\n          sets up the tab navigator.\n        </ThemedText>\n        <ExternalLink href=\"https://docs.expo.dev/router/introduction\">\n          <ThemedText type=\"link\">Learn more</ThemedText>\n        </ExternalLink>\n      </Collapsible>\n      <Collapsible title=\"Android, iOS, and web support\">\n        <ThemedText>\n          You can open this project on Android, iOS, and the web. To open the web version, press{' '}\n          <ThemedText type=\"defaultSemiBold\">w</ThemedText> in the terminal running this project.\n        </ThemedText>\n      </Collapsible>\n      <Collapsible title=\"Images\">\n        <ThemedText>\n          For static images, you can use the <ThemedText type=\"defaultSemiBold\">@2x</ThemedText> and{' '}\n          <ThemedText type=\"defaultSemiBold\">@3x</ThemedText> suffixes to provide files for\n          different screen densities\n        </ThemedText>\n        <Image source={require('@/assets/images/react-logo.png')} style={{ alignSelf: 'center' }} />\n        <ExternalLink href=\"https://reactnative.dev/docs/images\">\n          <ThemedText type=\"link\">Learn more</ThemedText>\n        </ExternalLink>\n      </Collapsible>\n      <Collapsible title=\"Custom fonts\">\n        <ThemedText>\n          Open <ThemedText type=\"defaultSemiBold\">app/_layout.tsx</ThemedText> to see how to load{' '}\n          <ThemedText style={{ fontFamily: 'SpaceMono' }}>\n            custom fonts such as this one.\n          </ThemedText>\n        </ThemedText>\n        <ExternalLink href=\"https://docs.expo.dev/versions/latest/sdk/font\">\n          <ThemedText type=\"link\">Learn more</ThemedText>\n        </ExternalLink>\n      </Collapsible>\n      <Collapsible title=\"Light and dark mode components\">\n        <ThemedText>\n          This template has light and dark mode support. The{' '}\n          <ThemedText type=\"defaultSemiBold\">useColorScheme()</ThemedText> hook lets you inspect\n          what the user&apos;s current color scheme is, and so you can adjust UI colors accordingly.\n        </ThemedText>\n        <ExternalLink href=\"https://docs.expo.dev/develop/user-interface/color-themes/\">\n          <ThemedText type=\"link\">Learn more</ThemedText>\n        </ExternalLink>\n      </Collapsible>\n      <Collapsible title=\"Animations\">\n        <ThemedText>\n          This template includes an example of an animated component. The{' '}\n          <ThemedText type=\"defaultSemiBold\">components/HelloWave.tsx</ThemedText> component uses\n          the powerful <ThemedText type=\"defaultSemiBold\">react-native-reanimated</ThemedText>{' '}\n          library to create a waving hand animation.\n        </ThemedText>\n        {Platform.select({\n          ios: (\n            <ThemedText>\n              The <ThemedText type=\"defaultSemiBold\">components/ParallaxScrollView.tsx</ThemedText>{' '}\n              component provides a parallax effect for the header image.\n            </ThemedText>\n          ),\n        })}\n      </Collapsible>\n    </ParallaxScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  headerImage: {\n    color: '#808080',\n    bottom: -90,\n    left: -35,\n    position: 'absolute',\n  },\n  titleContainer: {\n    flexDirection: 'row',\n    gap: 8,\n  },\n});\n","size_bytes":4576},"components/ui/IconSymbol.tsx":{"content":"// Fallback for using MaterialIcons on Android and web.\n\nimport MaterialIcons from '@expo/vector-icons/MaterialIcons';\nimport { SymbolWeight, SymbolViewProps } from 'expo-symbols';\nimport { ComponentProps } from 'react';\nimport { OpaqueColorValue, type StyleProp, type TextStyle } from 'react-native';\n\ntype IconMapping = Record<SymbolViewProps['name'], ComponentProps<typeof MaterialIcons>['name']>;\ntype IconSymbolName = keyof typeof MAPPING;\n\n/**\n * Add your SF Symbols to Material Icons mappings here.\n * - see Material Icons in the [Icons Directory](https://icons.expo.fyi).\n * - see SF Symbols in the [SF Symbols](https://developer.apple.com/sf-symbols/) app.\n */\nconst MAPPING = {\n  'house.fill': 'home',\n  'paperplane.fill': 'send',\n  'chevron.left.forwardslash.chevron.right': 'code',\n  'chevron.right': 'chevron-right',\n} as IconMapping;\n\n/**\n * An icon component that uses native SF Symbols on iOS, and Material Icons on Android and web.\n * This ensures a consistent look across platforms, and optimal resource usage.\n * Icon `name`s are based on SF Symbols and require manual mapping to Material Icons.\n */\nexport function IconSymbol({\n  name,\n  size = 24,\n  color,\n  style,\n}: {\n  name: IconSymbolName;\n  size?: number;\n  color: string | OpaqueColorValue;\n  style?: StyleProp<TextStyle>;\n  weight?: SymbolWeight;\n}) {\n  return <MaterialIcons color={color} size={size} name={MAPPING[name]} style={style} />;\n}\n","size_bytes":1422},"src/components/FloatingBubble.tsx":{"content":"import React, { useRef } from 'react';\nimport { View, StyleSheet, Animated, PanResponder, Pressable, Dimensions } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { theme } from '../utils/theme';\n\ninterface FloatingBubbleProps {\n  onPress: () => void;\n}\n\nconst BUBBLE_SIZE = 64;\nconst SCREEN_WIDTH = Dimensions.get('window').width;\nconst SCREEN_HEIGHT = Dimensions.get('window').height;\n\nexport const FloatingBubble: React.FC<FloatingBubbleProps> = ({ onPress }) => {\n  const pan = useRef(new Animated.ValueXY({ \n    x: SCREEN_WIDTH - BUBBLE_SIZE - 20, \n    y: SCREEN_HEIGHT - BUBBLE_SIZE - 100 \n  })).current;\n\n  const panResponder = useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onMoveShouldSetPanResponder: () => true,\n      onPanResponderGrant: () => {\n        pan.setOffset({\n          x: (pan.x as any)._value,\n          y: (pan.y as any)._value,\n        });\n        pan.setValue({ x: 0, y: 0 });\n      },\n      onPanResponderMove: Animated.event([null, { dx: pan.x, dy: pan.y }], {\n        useNativeDriver: false,\n      }),\n      onPanResponderRelease: (_, gesture) => {\n        pan.flattenOffset();\n        \n        if (Math.abs(gesture.dx) < 5 && Math.abs(gesture.dy) < 5) {\n          onPress();\n        }\n        \n        const maxX = SCREEN_WIDTH - BUBBLE_SIZE;\n        const maxY = SCREEN_HEIGHT - BUBBLE_SIZE - 50;\n        \n        let finalX = Math.max(0, Math.min((pan.x as any)._value, maxX));\n        let finalY = Math.max(0, Math.min((pan.y as any)._value, maxY));\n        \n        Animated.spring(pan, {\n          toValue: { x: finalX, y: finalY },\n          useNativeDriver: false,\n          friction: 7,\n        }).start();\n      },\n    })\n  ).current;\n\n  return (\n    <Animated.View\n      style={[\n        styles.container,\n        {\n          transform: [{ translateX: pan.x }, { translateY: pan.y }],\n        },\n      ]}\n      {...panResponder.panHandlers}\n    >\n      <Pressable style={styles.bubble}>\n        <Ionicons name=\"chatbubbles\" size={28} color={theme.colors.text} />\n      </Pressable>\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    width: BUBBLE_SIZE,\n    height: BUBBLE_SIZE,\n  },\n  bubble: {\n    width: BUBBLE_SIZE,\n    height: BUBBLE_SIZE,\n    borderRadius: BUBBLE_SIZE / 2,\n    backgroundColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n    ...theme.shadows.large,\n  },\n});\n","size_bytes":2482},"app/api-setup.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TextInput,\n  Pressable,\n  ScrollView,\n  Alert,\n  Linking,\n} from 'react-native';\nimport { Stack, useRouter } from 'expo-router';\nimport { Ionicons } from '@expo/vector-icons';\nimport { theme } from '@/src/utils/theme';\nimport { saveApiKey, getApiKey } from '@/src/utils/storage';\n\nexport default function ApiSetupScreen() {\n  const router = useRouter();\n  const [apiKey, setApiKey] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [hasExistingKey, setHasExistingKey] = useState(false);\n\n  useEffect(() => {\n    checkExistingKey();\n  }, []);\n\n  const checkExistingKey = async () => {\n    const existingKey = await getApiKey();\n    setHasExistingKey(!!existingKey);\n  };\n\n  const handleSave = async () => {\n    console.log('Save button clicked, API key length:', apiKey.trim().length);\n    \n    if (!apiKey.trim()) {\n      Alert.alert('Error', 'Please enter an API key');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      console.log('Attempting to save API key...');\n      await saveApiKey(apiKey.trim());\n      console.log('API key save completed');\n      \n      Alert.alert('Success', 'API key saved successfully! You can now use the Chat and Automation features.', [\n        {\n          text: 'OK',\n          onPress: () => router.back(),\n        },\n      ]);\n    } catch (error) {\n      console.error('Failed to save API key:', error);\n      Alert.alert('Error', `Failed to save API key: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openOpenRouter = () => {\n    Linking.openURL('https://openrouter.ai/keys');\n  };\n\n  return (\n    <ScrollView style={styles.container} contentContainerStyle={styles.content}>\n      <Stack.Screen\n        options={{\n          title: 'API Setup',\n          headerStyle: { backgroundColor: theme.colors.background },\n          headerTintColor: theme.colors.text,\n        }}\n      />\n\n      <View style={styles.header}>\n        <Ionicons name=\"key\" size={48} color={theme.colors.primary} />\n        <Text style={styles.title}>OpenRouter API Key</Text>\n        <Text style={styles.subtitle}>\n          Configure your API key to start using the AI assistant\n        </Text>\n      </View>\n\n      <View style={styles.infoBox}>\n        <Ionicons name=\"information-circle\" size={24} color={theme.colors.primary} />\n        <View style={styles.infoContent}>\n          <Text style={styles.infoTitle}>Polaris Alpha is FREE</Text>\n          <Text style={styles.infoText}>\n            No credit card required. Create a free account at OpenRouter to get started.\n          </Text>\n        </View>\n      </View>\n\n      <View style={styles.section}>\n        <Text style={styles.label}>API Key</Text>\n        <TextInput\n          style={styles.input}\n          value={apiKey}\n          onChangeText={setApiKey}\n          placeholder=\"sk-or-v1-...\"\n          placeholderTextColor={theme.colors.textTertiary}\n          secureTextEntry\n          autoCapitalize=\"none\"\n          autoCorrect={false}\n        />\n      </View>\n\n      <Pressable style={styles.linkButton} onPress={openOpenRouter}>\n        <Ionicons name=\"link\" size={20} color={theme.colors.primary} />\n        <Text style={styles.linkButtonText}>Get API Key from OpenRouter</Text>\n        <Ionicons name=\"arrow-forward\" size={20} color={theme.colors.primary} />\n      </Pressable>\n\n      <Pressable\n        style={[styles.saveButton, !apiKey.trim() && styles.saveButtonDisabled]}\n        onPress={handleSave}\n        disabled={!apiKey.trim() || loading}\n      >\n        <Ionicons\n          name={hasExistingKey ? 'checkmark-circle' : 'save'}\n          size={20}\n          color={theme.colors.text}\n        />\n        <Text style={styles.saveButtonText}>\n          {hasExistingKey ? 'Update API Key' : 'Save API Key'}\n        </Text>\n      </Pressable>\n\n      <View style={styles.steps}>\n        <Text style={styles.stepsTitle}>How to Get Started:</Text>\n        {[\n          'Visit openrouter.ai and create a free account',\n          'Navigate to the API Keys section',\n          'Create a new API key',\n          'Copy and paste it above',\n          'Start chatting with your AI assistant!',\n        ].map((step, index) => (\n          <View key={index} style={styles.stepItem}>\n            <View style={styles.stepNumber}>\n              <Text style={styles.stepNumberText}>{index + 1}</Text>\n            </View>\n            <Text style={styles.stepText}>{step}</Text>\n          </View>\n        ))}\n      </View>\n\n      <View style={styles.footer}>\n        <Text style={styles.footerText}>\n          Your API key is stored securely on your device and is never shared.\n        </Text>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  content: {\n    padding: theme.spacing.md,\n  },\n  header: {\n    alignItems: 'center',\n    marginVertical: theme.spacing.xl,\n  },\n  title: {\n    fontSize: theme.fontSizes.xl,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    marginTop: theme.spacing.md,\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.textSecondary,\n    textAlign: 'center',\n    marginTop: theme.spacing.sm,\n    paddingHorizontal: theme.spacing.lg,\n  },\n  infoBox: {\n    flexDirection: 'row',\n    backgroundColor: theme.colors.primary + '20',\n    padding: theme.spacing.md,\n    borderRadius: theme.borderRadius.md,\n    marginBottom: theme.spacing.xl,\n    gap: theme.spacing.md,\n  },\n  infoContent: {\n    flex: 1,\n  },\n  infoTitle: {\n    fontSize: theme.fontSizes.md,\n    fontWeight: '600',\n    color: theme.colors.text,\n    marginBottom: theme.spacing.xs,\n  },\n  infoText: {\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textSecondary,\n    lineHeight: 18,\n  },\n  section: {\n    marginBottom: theme.spacing.lg,\n  },\n  label: {\n    fontSize: theme.fontSizes.sm,\n    fontWeight: '600',\n    color: theme.colors.textSecondary,\n    marginBottom: theme.spacing.sm,\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: theme.borderRadius.md,\n    padding: theme.spacing.md,\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.text,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  linkButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: theme.spacing.md,\n    borderRadius: theme.borderRadius.md,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    marginBottom: theme.spacing.lg,\n    gap: theme.spacing.sm,\n  },\n  linkButtonText: {\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.primary,\n    fontWeight: '500',\n  },\n  saveButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: theme.colors.primary,\n    padding: theme.spacing.md,\n    borderRadius: theme.borderRadius.md,\n    marginBottom: theme.spacing.xl,\n    gap: theme.spacing.sm,\n  },\n  saveButtonDisabled: {\n    opacity: 0.5,\n  },\n  saveButtonText: {\n    fontSize: theme.fontSizes.md,\n    fontWeight: '600',\n    color: theme.colors.text,\n  },\n  steps: {\n    backgroundColor: theme.colors.surface,\n    padding: theme.spacing.lg,\n    borderRadius: theme.borderRadius.md,\n    marginBottom: theme.spacing.lg,\n  },\n  stepsTitle: {\n    fontSize: theme.fontSizes.md,\n    fontWeight: '600',\n    color: theme.colors.text,\n    marginBottom: theme.spacing.md,\n  },\n  stepItem: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    marginBottom: theme.spacing.md,\n    gap: theme.spacing.md,\n  },\n  stepNumber: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  stepNumberText: {\n    fontSize: theme.fontSizes.xs,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  stepText: {\n    flex: 1,\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textSecondary,\n    lineHeight: 20,\n  },\n  footer: {\n    alignItems: 'center',\n    paddingVertical: theme.spacing.lg,\n  },\n  footerText: {\n    fontSize: theme.fontSizes.xs,\n    color: theme.colors.textTertiary,\n    textAlign: 'center',\n  },\n});\n","size_bytes":8266},"src/components/MessageBubble.tsx":{"content":"import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { Message } from '../types';\nimport { theme } from '../utils/theme';\n\ninterface MessageBubbleProps {\n  message: Message;\n}\n\nexport const MessageBubble: React.FC<MessageBubbleProps> = ({ message }) => {\n  const isUser = message.role === 'user';\n\n  return (\n    <View style={[styles.container, isUser ? styles.userContainer : styles.assistantContainer]}>\n      <View style={[styles.bubble, isUser ? styles.userBubble : styles.assistantBubble]}>\n        <Text style={[styles.text, isUser ? styles.userText : styles.assistantText]}>\n          {message.content}\n        </Text>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginVertical: theme.spacing.sm,\n    paddingHorizontal: theme.spacing.md,\n  },\n  userContainer: {\n    alignItems: 'flex-end',\n  },\n  assistantContainer: {\n    alignItems: 'flex-start',\n  },\n  bubble: {\n    maxWidth: '80%',\n    paddingVertical: theme.spacing.md,\n    paddingHorizontal: theme.spacing.lg,\n    borderRadius: theme.borderRadius.lg,\n  },\n  userBubble: {\n    backgroundColor: theme.colors.primary,\n    borderBottomRightRadius: 4,\n  },\n  assistantBubble: {\n    backgroundColor: theme.colors.surface,\n    borderBottomLeftRadius: 4,\n  },\n  text: {\n    fontSize: theme.fontSizes.md,\n    lineHeight: 22,\n  },\n  userText: {\n    color: theme.colors.text,\n  },\n  assistantText: {\n    color: theme.colors.text,\n  },\n});\n","size_bytes":1473},"src/services/AutomationService.ts":{"content":"import { AutomationStep } from '../types';\n\nexport class AutomationService {\n  async executePlan(\n    steps: AutomationStep[],\n    onStepUpdate: (stepIndex: number, status: AutomationStep['status']) => void\n  ): Promise<void> {\n    for (let i = 0; i < steps.length; i++) {\n      const step = steps[i];\n      \n      onStepUpdate(i, 'running');\n      \n      await this.simulateExecution(step);\n      \n      onStepUpdate(i, 'completed');\n    }\n  }\n\n  private async simulateExecution(step: AutomationStep): Promise<void> {\n    const baseDelay = 1000;\n    \n    const delays: Record<AutomationStep['action'], number> = {\n      open_app: 1500,\n      tap: 800,\n      type: step.text ? step.text.length * 100 : 1000,\n      swipe: 600,\n      scroll: 800,\n      wait: 2000,\n    };\n\n    const delay = delays[step.action] || baseDelay;\n    \n    return new Promise(resolve => setTimeout(resolve, delay));\n  }\n\n  validateStep(step: AutomationStep): boolean {\n    if (!step.action || !step.target) {\n      return false;\n    }\n\n    if (step.action === 'type' && !step.text) {\n      return false;\n    }\n\n    return true;\n  }\n\n  estimateExecutionTime(steps: AutomationStep[]): number {\n    const times: Record<AutomationStep['action'], number> = {\n      open_app: 1.5,\n      tap: 0.8,\n      type: 2,\n      swipe: 0.6,\n      scroll: 0.8,\n      wait: 2,\n    };\n\n    return steps.reduce((total, step) => {\n      return total + (times[step.action] || 1);\n    }, 0);\n  }\n}\n","size_bytes":1449},"src/utils/storage.ts":{"content":"import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Platform } from 'react-native';\nimport { Message, ApiKeyConfig } from '../types';\nimport Constants from 'expo-constants';\n\nconst KEYS = {\n  API_KEY: '@ai_assistant_api_key',\n  USER_ID: '@ai_assistant_user_id',\n};\n\nconst API_URL = Platform.OS === 'web' \n  ? `https://${Constants.expoConfig?.hostUri?.split(':')[0]}:3000` \n  : 'http://localhost:3000';\n\nlet memoryStorage: { [key: string]: string } = {};\n\nconst getStorage = () => {\n  if (Platform.OS === 'web') {\n    return {\n      setItem: async (key: string, value: string) => {\n        try {\n          window.localStorage.setItem(key, value);\n        } catch {\n          memoryStorage[key] = value;\n        }\n      },\n      getItem: async (key: string) => {\n        try {\n          return window.localStorage.getItem(key);\n        } catch {\n          return memoryStorage[key] || null;\n        }\n      },\n      removeItem: async (key: string) => {\n        try {\n          window.localStorage.removeItem(key);\n        } catch {\n          delete memoryStorage[key];\n        }\n      },\n    };\n  }\n  return AsyncStorage;\n};\n\nconst getUserId = async (): Promise<string> => {\n  try {\n    const storage = getStorage();\n    let userId = await storage.getItem(KEYS.USER_ID);\n    \n    if (!userId) {\n      userId = `user_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n      await storage.setItem(KEYS.USER_ID, userId);\n    }\n    \n    return userId;\n  } catch (error) {\n    console.error('Error getting user ID:', error);\n    return `user_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n  }\n};\n\nexport const saveApiKey = async (apiKey: string): Promise<void> => {\n  try {\n    const config: ApiKeyConfig = {\n      apiKey,\n      timestamp: Date.now(),\n    };\n    const storage = getStorage();\n    await storage.setItem(KEYS.API_KEY, JSON.stringify(config));\n    console.log('API key saved successfully');\n  } catch (error) {\n    console.error('Error saving API key:', error);\n    throw error;\n  }\n};\n\nexport const getApiKey = async (): Promise<string | null> => {\n  try {\n    const storage = getStorage();\n    const configStr = await storage.getItem(KEYS.API_KEY);\n    console.log('Retrieved API key config:', configStr ? 'found' : 'not found');\n    \n    if (!configStr) return null;\n    \n    const config: ApiKeyConfig = JSON.parse(configStr);\n    return config.apiKey;\n  } catch (error) {\n    console.error('Error getting API key:', error);\n    return null;\n  }\n};\n\nexport const saveChatHistory = async (messages: Message[]): Promise<void> => {\n  try {\n    const userId = await getUserId();\n    \n    for (const message of messages) {\n      await fetch(`${API_URL}/api/messages`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          userId,\n          role: message.role,\n          content: message.content,\n        }),\n      });\n    }\n    \n    console.log('Chat history saved to cloud:', messages.length, 'messages');\n  } catch (error) {\n    console.error('Error saving chat history to cloud:', error);\n    throw error;\n  }\n};\n\nexport const getChatHistory = async (): Promise<Message[]> => {\n  try {\n    const userId = await getUserId();\n    const response = await fetch(`${API_URL}/api/messages/${userId}`);\n    \n    if (!response.ok) {\n      throw new Error('Failed to fetch chat history');\n    }\n    \n    const data = await response.json();\n    \n    return data.map((msg: any) => ({\n      role: msg.role as 'user' | 'assistant',\n      content: msg.content,\n      timestamp: new Date(msg.createdAt).getTime(),\n    }));\n  } catch (error) {\n    console.error('Error getting chat history from cloud:', error);\n    return [];\n  }\n};\n\nexport const clearChatHistory = async (): Promise<void> => {\n  try {\n    const userId = await getUserId();\n    await fetch(`${API_URL}/api/messages/${userId}`, {\n      method: 'DELETE',\n    });\n    console.log('Chat history cleared from cloud');\n  } catch (error) {\n    console.error('Error clearing chat history from cloud:', error);\n    throw error;\n  }\n};\n\nexport const hasApiKey = async (): Promise<boolean> => {\n  const apiKey = await getApiKey();\n  return !!apiKey;\n};\n","size_bytes":4244},"src/services/PolarisService.ts":{"content":"import OpenAI from 'openai';\nimport { Message, AutomationStep } from '../types';\n\nexport class PolarisService {\n  private client: OpenAI;\n  private model = 'openrouter/polaris-alpha';\n\n  constructor(apiKey: string) {\n    this.client = new OpenAI({\n      apiKey: apiKey,\n      baseURL: 'https://openrouter.ai/api/v1',\n      dangerouslyAllowBrowser: true,\n    });\n  }\n\n  async chat(message: string, history: Message[] = []): Promise<string> {\n    try {\n      const messages = [\n        ...history.map(msg => ({\n          role: msg.role,\n          content: msg.content,\n        })),\n        {\n          role: 'user' as const,\n          content: message,\n        },\n      ];\n\n      const response = await this.client.chat.completions.create({\n        model: this.model,\n        messages: messages,\n        max_tokens: 500,\n      });\n\n      return response.choices[0]?.message?.content || 'No response generated';\n    } catch (error) {\n      console.error('Chat error:', error);\n      throw new Error(`Failed to get response: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  }\n\n  async analyzeImage(base64Image: string, question: string): Promise<string> {\n    try {\n      const response = await this.client.chat.completions.create({\n        model: this.model,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              { type: 'text', text: question },\n              {\n                type: 'image_url',\n                image_url: {\n                  url: `data:image/jpeg;base64,${base64Image}`,\n                },\n              },\n            ],\n          },\n        ],\n        max_tokens: 500,\n      });\n\n      return response.choices[0]?.message?.content || 'No analysis generated';\n    } catch (error) {\n      console.error('Image analysis error:', error);\n      throw new Error(`Failed to analyze image: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  }\n\n  async planTask(task: string): Promise<AutomationStep[]> {\n    try {\n      const prompt = `You are an Android automation planner. Break down this task into specific automation steps.\n      \nTask: ${task}\n\nReturn ONLY a JSON array of steps. Each step must have:\n- action: one of [tap, type, swipe, scroll, wait, open_app]\n- target: specific element/app name\n- text: (optional) text to type\n- reasoning: why this step is needed\n\nExample format:\n[\n  {\"action\": \"open_app\", \"target\": \"Messages\", \"reasoning\": \"Need to access messaging app\"},\n  {\"action\": \"tap\", \"target\": \"New message button\", \"reasoning\": \"Start composing new message\"},\n  {\"action\": \"type\", \"target\": \"Recipient field\", \"text\": \"John\", \"reasoning\": \"Enter recipient name\"}\n]\n\nReturn only the JSON array, no other text.`;\n\n      const response = await this.client.chat.completions.create({\n        model: this.model,\n        messages: [{ role: 'user', content: prompt }],\n        max_tokens: 800,\n      });\n\n      const content = response.choices[0]?.message?.content || '[]';\n      \n      try {\n        const jsonMatch = content.match(/\\[[\\s\\S]*\\]/);\n        const jsonStr = jsonMatch ? jsonMatch[0] : content;\n        const steps = JSON.parse(jsonStr);\n        \n        return steps.map((step: any) => ({\n          ...step,\n          status: 'pending' as const,\n        }));\n      } catch (parseError) {\n        console.error('Failed to parse automation steps:', content);\n        return [\n          {\n            action: 'tap' as const,\n            target: task,\n            reasoning: 'Manual planning required - AI response was not in expected format',\n            status: 'pending' as const,\n          },\n        ];\n      }\n    } catch (error) {\n      console.error('Task planning error:', error);\n      throw new Error(`Failed to plan task: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  }\n}\n","size_bytes":3826},"app/automation.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TextInput,\n  Pressable,\n  ScrollView,\n  ActivityIndicator,\n  Alert,\n} from 'react-native';\nimport { Stack } from 'expo-router';\nimport { Ionicons } from '@expo/vector-icons';\nimport { theme } from '@/src/utils/theme';\nimport { AutomationStep } from '@/src/types';\nimport { ActionCard } from '@/src/components/ActionCard';\nimport { VoiceInput } from '@/src/components/VoiceInput';\nimport { PolarisService } from '@/src/services/PolarisService';\nimport { AutomationService } from '@/src/services/AutomationService';\nimport { getApiKey } from '@/src/utils/storage';\n\nexport default function AutomationScreen() {\n  const [taskInput, setTaskInput] = useState('');\n  const [steps, setSteps] = useState<AutomationStep[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [executing, setExecuting] = useState(false);\n  const [showVoiceInput, setShowVoiceInput] = useState(false);\n  const [polarisService, setPolarisService] = useState<PolarisService | null>(null);\n  const automationService = new AutomationService();\n\n  useEffect(() => {\n    initializeServices();\n  }, []);\n\n  const initializeServices = async () => {\n    console.log('Initializing automation services...');\n    const apiKey = await getApiKey();\n    console.log('API key retrieved:', apiKey ? 'yes' : 'no');\n    \n    if (!apiKey) {\n      console.log('No API key found, showing alert');\n      Alert.alert('API Key Required', 'Please configure your API key in API Setup first.');\n      return;\n    }\n\n    setPolarisService(new PolarisService(apiKey));\n    console.log('Automation services initialized');\n  };\n\n  const planTask = async () => {\n    console.log('Plan task clicked, input:', taskInput.trim().length, 'chars');\n    \n    if (!taskInput.trim()) {\n      console.log('Empty task input, returning');\n      return;\n    }\n    \n    if (!polarisService) {\n      console.log('No Polaris service, showing alert');\n      Alert.alert('API Key Required', 'Please configure your API key in API Setup first. Go to the home screen and tap \"API Setup\".');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const automationSteps = await polarisService.planTask(taskInput.trim());\n      setSteps(automationSteps);\n    } catch (error) {\n      Alert.alert('Error', error instanceof Error ? error.message : 'Failed to plan task');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const executeAutomation = async () => {\n    if (steps.length === 0) return;\n\n    setExecuting(true);\n    \n    try {\n      await automationService.executePlan(steps, (stepIndex, status) => {\n        setSteps((prevSteps) => {\n          const newSteps = [...prevSteps];\n          newSteps[stepIndex] = { ...newSteps[stepIndex], status };\n          return newSteps;\n        });\n      });\n\n      Alert.alert('Success', 'Automation plan completed!');\n    } catch (error) {\n      Alert.alert('Error', 'Failed to execute automation');\n    } finally {\n      setExecuting(false);\n    }\n  };\n\n  const clearPlan = () => {\n    setSteps([]);\n    setTaskInput('');\n  };\n\n  const handleVoiceConfirm = (text: string) => {\n    console.log('Voice input confirmed for automation:', text);\n    setTaskInput(text);\n  };\n\n  const estimatedTime = steps.length > 0 \n    ? automationService.estimateExecutionTime(steps).toFixed(1) \n    : '0';\n\n  return (\n    <View style={styles.container}>\n      <Stack.Screen\n        options={{\n          title: 'Automation',\n          headerStyle: { backgroundColor: theme.colors.background },\n          headerTintColor: theme.colors.text,\n        }}\n      />\n\n      <View style={styles.inputSection}>\n        <Text style={styles.label}>Task Description</Text>\n        <TextInput\n          style={styles.input}\n          value={taskInput}\n          onChangeText={setTaskInput}\n          placeholder=\"E.g., Send a text to John saying hello\"\n          placeholderTextColor={theme.colors.textTertiary}\n          multiline\n          maxLength={200}\n        />\n\n        <View style={styles.buttonRow}>\n          <Pressable\n            style={styles.micButton}\n            onPress={() => setShowVoiceInput(true)}\n          >\n            <Ionicons name=\"mic\" size={24} color={theme.colors.primary} />\n          </Pressable>\n\n          <Pressable\n            style={[styles.button, styles.primaryButton, (!taskInput.trim() || loading) && styles.buttonDisabled]}\n            onPress={planTask}\n            disabled={!taskInput.trim() || loading}\n          >\n            {loading ? (\n              <ActivityIndicator size=\"small\" color={theme.colors.text} />\n            ) : (\n              <>\n                <Ionicons name=\"hammer\" size={20} color={theme.colors.text} />\n                <Text style={styles.buttonText}>Plan Task</Text>\n              </>\n            )}\n          </Pressable>\n        </View>\n      </View>\n\n      {steps.length > 0 && (\n        <View style={styles.infoBar}>\n          <View style={styles.infoItem}>\n            <Ionicons name=\"list\" size={20} color={theme.colors.textSecondary} />\n            <Text style={styles.infoText}>{steps.length} steps</Text>\n          </View>\n          <View style={styles.infoItem}>\n            <Ionicons name=\"time\" size={20} color={theme.colors.textSecondary} />\n            <Text style={styles.infoText}>~{estimatedTime}s</Text>\n          </View>\n          <Pressable onPress={clearPlan}>\n            <Ionicons name=\"close-circle\" size={24} color={theme.colors.danger} />\n          </Pressable>\n        </View>\n      )}\n\n      <ScrollView style={styles.stepsContainer} contentContainerStyle={styles.stepsContent}>\n        {steps.length > 0 ? (\n          <>\n            {steps.map((step, index) => (\n              <ActionCard key={index} step={step} index={index} />\n            ))}\n\n            <Pressable\n              style={[styles.button, styles.executeButton, executing && styles.buttonDisabled]}\n              onPress={executeAutomation}\n              disabled={executing}\n            >\n              {executing ? (\n                <ActivityIndicator size=\"small\" color={theme.colors.text} />\n              ) : (\n                <>\n                  <Ionicons name=\"play\" size={20} color={theme.colors.text} />\n                  <Text style={styles.buttonText}>Execute Automation</Text>\n                </>\n              )}\n            </Pressable>\n          </>\n        ) : (\n          <View style={styles.emptyContainer}>\n            <Ionicons name=\"construct-outline\" size={64} color={theme.colors.textTertiary} />\n            <Text style={styles.emptyText}>\n              Describe a task and tap \"Plan Task\" to see the automation steps\n            </Text>\n          </View>\n        )}\n      </ScrollView>\n\n      <VoiceInput\n        visible={showVoiceInput}\n        onClose={() => setShowVoiceInput(false)}\n        onConfirm={handleVoiceConfirm}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  inputSection: {\n    padding: theme.spacing.md,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  label: {\n    fontSize: theme.fontSizes.sm,\n    fontWeight: '600',\n    color: theme.colors.textSecondary,\n    marginBottom: theme.spacing.sm,\n  },\n  input: {\n    backgroundColor: theme.colors.surfaceLight,\n    borderRadius: theme.borderRadius.md,\n    padding: theme.spacing.md,\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.text,\n    minHeight: 80,\n    marginBottom: theme.spacing.md,\n  },\n  buttonRow: {\n    flexDirection: 'row',\n    gap: theme.spacing.md,\n  },\n  micButton: {\n    width: 48,\n    height: 48,\n    borderRadius: theme.borderRadius.md,\n    backgroundColor: theme.colors.surfaceLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  button: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: theme.spacing.md,\n    borderRadius: theme.borderRadius.md,\n    gap: theme.spacing.sm,\n  },\n  primaryButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  executeButton: {\n    backgroundColor: theme.colors.success,\n    marginTop: theme.spacing.lg,\n  },\n  buttonDisabled: {\n    opacity: 0.5,\n  },\n  buttonText: {\n    fontSize: theme.fontSizes.md,\n    fontWeight: '600',\n    color: theme.colors.text,\n  },\n  infoBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: theme.spacing.md,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  infoItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: theme.spacing.sm,\n  },\n  infoText: {\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textSecondary,\n  },\n  stepsContainer: {\n    flex: 1,\n  },\n  stepsContent: {\n    padding: theme.spacing.md,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 80,\n    gap: theme.spacing.md,\n  },\n  emptyText: {\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.textTertiary,\n    textAlign: 'center',\n    paddingHorizontal: theme.spacing.xl,\n  },\n});\n","size_bytes":9220},"src/types/index.ts":{"content":"export interface Message {\n  role: 'user' | 'assistant';\n  content: string;\n  timestamp?: number;\n}\n\nexport interface AutomationStep {\n  action: 'tap' | 'type' | 'swipe' | 'scroll' | 'wait' | 'open_app';\n  target: string;\n  text?: string;\n  reasoning: string;\n  status?: 'pending' | 'running' | 'completed' | 'failed';\n}\n\nexport type IntentType = 'chat' | 'automation';\n\nexport interface ApiKeyConfig {\n  apiKey: string;\n  timestamp: number;\n}\n","size_bytes":444},"app/chat.tsx":{"content":"import React, { useState, useEffect, useRef } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TextInput,\n  Pressable,\n  FlatList,\n  KeyboardAvoidingView,\n  Platform,\n  ActivityIndicator,\n  Alert,\n} from 'react-native';\nimport { Stack } from 'expo-router';\nimport { Ionicons } from '@expo/vector-icons';\nimport { theme } from '@/src/utils/theme';\nimport { Message } from '@/src/types';\nimport { MessageBubble } from '@/src/components/MessageBubble';\nimport { VoiceInput } from '@/src/components/VoiceInput';\nimport { PolarisService } from '@/src/services/PolarisService';\nimport { getApiKey, getChatHistory, saveChatHistory } from '@/src/utils/storage';\n\nexport default function ChatScreen() {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputText, setInputText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showVoiceInput, setShowVoiceInput] = useState(false);\n  const [polarisService, setPolarisService] = useState<PolarisService | null>(null);\n  const flatListRef = useRef<FlatList>(null);\n\n  useEffect(() => {\n    initializeChat();\n  }, []);\n\n  const initializeChat = async () => {\n    console.log('Initializing chat...');\n    const apiKey = await getApiKey();\n    console.log('API key retrieved:', apiKey ? 'yes' : 'no');\n    \n    if (!apiKey) {\n      console.log('No API key found, showing alert');\n      Alert.alert('API Key Required', 'Please configure your API key in API Setup first.');\n      return;\n    }\n\n    setPolarisService(new PolarisService(apiKey));\n    const history = await getChatHistory();\n    setMessages(history);\n    console.log('Chat initialized with', history.length, 'messages');\n  };\n\n  const sendMessage = async () => {\n    console.log('Send message clicked, input:', inputText.trim().length, 'chars');\n    \n    if (!inputText.trim()) {\n      console.log('Empty message, returning');\n      return;\n    }\n    \n    if (!polarisService) {\n      console.log('No Polaris service, showing alert');\n      Alert.alert('API Key Required', 'Please configure your API key in API Setup first.');\n      return;\n    }\n\n    const userMessage: Message = {\n      role: 'user',\n      content: inputText.trim(),\n      timestamp: Date.now(),\n    };\n\n    const updatedMessages = [...messages, userMessage];\n    setMessages(updatedMessages);\n    setInputText('');\n    setLoading(true);\n\n    try {\n      const response = await polarisService.chat(userMessage.content, messages);\n\n      const assistantMessage: Message = {\n        role: 'assistant',\n        content: response,\n        timestamp: Date.now(),\n      };\n\n      const finalMessages = [...updatedMessages, assistantMessage];\n      setMessages(finalMessages);\n      await saveChatHistory(finalMessages);\n    } catch (error) {\n      Alert.alert('Error', error instanceof Error ? error.message : 'Failed to get response');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const clearHistory = async () => {\n    Alert.alert(\n      'Clear Chat History',\n      'Are you sure you want to clear all messages?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Clear',\n          style: 'destructive',\n          onPress: async () => {\n            setMessages([]);\n            await saveChatHistory([]);\n          },\n        },\n      ]\n    );\n  };\n\n  const handleVoiceConfirm = (text: string) => {\n    console.log('Voice input confirmed:', text);\n    setInputText(text);\n  };\n\n  return (\n    <KeyboardAvoidingView\n      style={styles.container}\n      behavior={Platform.OS === 'ios' ? 'padding' : undefined}\n      keyboardVerticalOffset={Platform.OS === 'ios' ? 90 : 0}\n    >\n      <Stack.Screen\n        options={{\n          title: 'Chat',\n          headerStyle: { backgroundColor: theme.colors.background },\n          headerTintColor: theme.colors.text,\n          headerRight: () => (\n            <Pressable onPress={clearHistory} style={styles.headerButton}>\n              <Ionicons name=\"trash-outline\" size={24} color={theme.colors.text} />\n            </Pressable>\n          ),\n        }}\n      />\n\n      <FlatList\n        ref={flatListRef}\n        data={messages}\n        keyExtractor={(_, index) => index.toString()}\n        renderItem={({ item }) => <MessageBubble message={item} />}\n        contentContainerStyle={styles.messageList}\n        onContentSizeChange={() => flatListRef.current?.scrollToEnd({ animated: true })}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <Ionicons name=\"chatbubbles-outline\" size={64} color={theme.colors.textTertiary} />\n            <Text style={styles.emptyText}>Start a conversation with your AI assistant</Text>\n          </View>\n        }\n      />\n\n      {loading && (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"small\" color={theme.colors.primary} />\n          <Text style={styles.loadingText}>Thinking...</Text>\n        </View>\n      )}\n\n      <View style={styles.inputContainer}>\n        <TextInput\n          style={styles.input}\n          value={inputText}\n          onChangeText={setInputText}\n          placeholder=\"Type your message...\"\n          placeholderTextColor={theme.colors.textTertiary}\n          multiline\n          maxLength={500}\n        />\n        <Pressable\n          style={styles.micButton}\n          onPress={() => setShowVoiceInput(true)}\n        >\n          <Ionicons name=\"mic\" size={24} color={theme.colors.primary} />\n        </Pressable>\n        <Pressable\n          style={[styles.sendButton, !inputText.trim() && styles.sendButtonDisabled]}\n          onPress={sendMessage}\n          disabled={!inputText.trim() || loading}\n        >\n          <Ionicons\n            name=\"send\"\n            size={24}\n            color={inputText.trim() ? theme.colors.text : theme.colors.textTertiary}\n          />\n        </Pressable>\n      </View>\n\n      <VoiceInput\n        visible={showVoiceInput}\n        onClose={() => setShowVoiceInput(false)}\n        onConfirm={handleVoiceConfirm}\n      />\n    </KeyboardAvoidingView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  headerButton: {\n    padding: theme.spacing.sm,\n  },\n  messageList: {\n    paddingVertical: theme.spacing.md,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 100,\n    gap: theme.spacing.md,\n  },\n  emptyText: {\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.textTertiary,\n    textAlign: 'center',\n  },\n  loadingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: theme.spacing.md,\n    gap: theme.spacing.sm,\n  },\n  loadingText: {\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textSecondary,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    padding: theme.spacing.md,\n    backgroundColor: theme.colors.surface,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    gap: theme.spacing.md,\n  },\n  input: {\n    flex: 1,\n    backgroundColor: theme.colors.surfaceLight,\n    borderRadius: theme.borderRadius.lg,\n    paddingHorizontal: theme.spacing.md,\n    paddingVertical: theme.spacing.md,\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.text,\n    maxHeight: 100,\n  },\n  micButton: {\n    width: 48,\n    height: 48,\n    borderRadius: theme.borderRadius.full,\n    backgroundColor: theme.colors.surfaceLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sendButton: {\n    width: 48,\n    height: 48,\n    borderRadius: theme.borderRadius.full,\n    backgroundColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sendButtonDisabled: {\n    backgroundColor: theme.colors.surfaceLight,\n  },\n});\n","size_bytes":7784},"src/utils/intents.ts":{"content":"import { IntentType } from '../types';\n\nconst AUTOMATION_KEYWORDS = [\n  'open',\n  'launch',\n  'start',\n  'send',\n  'text',\n  'message',\n  'call',\n  'dial',\n  'search',\n  'play',\n  'pause',\n  'stop',\n  'take',\n  'photo',\n  'picture',\n  'screenshot',\n  'swipe',\n  'scroll',\n  'tap',\n  'click',\n  'press',\n  'turn on',\n  'turn off',\n  'enable',\n  'disable',\n  'set alarm',\n  'remind me',\n  'navigate to',\n  'go to',\n];\n\nexport const detectIntent = (message: string): IntentType => {\n  const lowerMessage = message.toLowerCase().trim();\n  \n  const hasAutomationKeyword = AUTOMATION_KEYWORDS.some(keyword => \n    lowerMessage.includes(keyword)\n  );\n  \n  const hasActionPattern = /^(open|launch|start|send|call|text|search|play|take|turn|set|navigate|go to)\\s+/i.test(lowerMessage);\n  \n  if (hasAutomationKeyword || hasActionPattern) {\n    return 'automation';\n  }\n  \n  return 'chat';\n};\n","size_bytes":882},"src/components/VoiceInput.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, Pressable, Modal, Platform, Alert } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { theme } from '../utils/theme';\n\ninterface VoiceInputProps {\n  visible: boolean;\n  onClose: () => void;\n  onConfirm: (text: string) => void;\n}\n\ndeclare global {\n  interface Window {\n    webkitSpeechRecognition: any;\n    SpeechRecognition: any;\n  }\n}\n\nexport const VoiceInput: React.FC<VoiceInputProps> = ({ visible, onClose, onConfirm }) => {\n  const [isListening, setIsListening] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [recognition, setRecognition] = useState<any>(null);\n\n  useEffect(() => {\n    if (Platform.OS === 'web' && visible) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      \n      if (!SpeechRecognition) {\n        Alert.alert(\n          'Not Supported',\n          'Speech recognition is not supported in your browser. Please use Chrome, Edge, or Safari.'\n        );\n        onClose();\n        return;\n      }\n\n      const recognitionInstance = new SpeechRecognition();\n      recognitionInstance.continuous = false;\n      recognitionInstance.interimResults = true;\n      recognitionInstance.lang = 'en-US';\n      recognitionInstance.maxAlternatives = 1;\n\n      recognitionInstance.onstart = () => {\n        console.log('Voice recognition started');\n        setIsListening(true);\n        setTranscript('');\n      };\n\n      recognitionInstance.onresult = (event: any) => {\n        const current = event.resultIndex;\n        const transcriptResult = event.results[current][0].transcript;\n        console.log('Transcript:', transcriptResult);\n        setTranscript(transcriptResult);\n      };\n\n      recognitionInstance.onerror = (event: any) => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n        \n        if (event.error === 'not-allowed') {\n          Alert.alert('Permission Denied', 'Please allow microphone access to use voice input.');\n        } else if (event.error === 'no-speech') {\n          Alert.alert('No Speech', 'No speech was detected. Please try again.');\n        } else {\n          Alert.alert('Error', `Speech recognition error: ${event.error}`);\n        }\n      };\n\n      recognitionInstance.onend = () => {\n        console.log('Voice recognition ended');\n        setIsListening(false);\n      };\n\n      setRecognition(recognitionInstance);\n\n      return () => {\n        if (recognitionInstance) {\n          recognitionInstance.stop();\n        }\n      };\n    }\n  }, [visible, onClose]);\n\n  const startListening = () => {\n    if (recognition) {\n      setTranscript('');\n      try {\n        recognition.start();\n      } catch (error) {\n        console.error('Failed to start recognition:', error);\n        Alert.alert('Error', 'Failed to start voice recognition. Please try again.');\n      }\n    }\n  };\n\n  const stopListening = () => {\n    if (recognition) {\n      recognition.stop();\n    }\n  };\n\n  const handleConfirm = () => {\n    if (transcript.trim()) {\n      onConfirm(transcript.trim());\n      setTranscript('');\n      onClose();\n    } else {\n      Alert.alert('No Input', 'Please speak something before confirming.');\n    }\n  };\n\n  const handleRetry = () => {\n    setTranscript('');\n    startListening();\n  };\n\n  const handleCancel = () => {\n    if (recognition && isListening) {\n      recognition.stop();\n    }\n    setTranscript('');\n    onClose();\n  };\n\n  if (Platform.OS !== 'web') {\n    return (\n      <Modal visible={visible} transparent animationType=\"fade\">\n        <View style={styles.modalOverlay}>\n          <View style={styles.modalContent}>\n            <Ionicons name=\"warning\" size={48} color={theme.colors.warning} />\n            <Text style={styles.title}>Not Available</Text>\n            <Text style={styles.message}>\n              Voice input is currently only available on web. Native support coming soon!\n            </Text>\n            <Pressable style={styles.button} onPress={onClose}>\n              <Text style={styles.buttonText}>OK</Text>\n            </Pressable>\n          </View>\n        </View>\n      </Modal>\n    );\n  }\n\n  return (\n    <Modal visible={visible} transparent animationType=\"slide\">\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.header}>\n            <Text style={styles.title}>Voice Input</Text>\n            <Pressable onPress={handleCancel} style={styles.closeButton}>\n              <Ionicons name=\"close\" size={24} color={theme.colors.text} />\n            </Pressable>\n          </View>\n\n          <View style={styles.microphoneContainer}>\n            <View style={[styles.microphoneCircle, isListening && styles.microphoneActive]}>\n              <Ionicons\n                name={isListening ? 'mic' : 'mic-outline'}\n                size={64}\n                color={isListening ? theme.colors.text : theme.colors.primary}\n              />\n            </View>\n            <Text style={styles.statusText}>\n              {isListening ? 'Listening...' : transcript ? 'Ready to confirm' : 'Tap to start'}\n            </Text>\n          </View>\n\n          {transcript ? (\n            <View style={styles.transcriptContainer}>\n              <Text style={styles.transcriptLabel}>Transcribed Text:</Text>\n              <Text style={styles.transcript}>{transcript}</Text>\n            </View>\n          ) : null}\n\n          <View style={styles.buttonContainer}>\n            {!isListening && !transcript && (\n              <Pressable style={[styles.button, styles.startButton]} onPress={startListening}>\n                <Ionicons name=\"mic\" size={24} color={theme.colors.text} />\n                <Text style={styles.buttonText}>Start Recording</Text>\n              </Pressable>\n            )}\n\n            {isListening && (\n              <Pressable style={[styles.button, styles.stopButton]} onPress={stopListening}>\n                <Ionicons name=\"stop\" size={24} color={theme.colors.text} />\n                <Text style={styles.buttonText}>Stop</Text>\n              </Pressable>\n            )}\n\n            {!isListening && transcript && (\n              <>\n                <Pressable style={[styles.button, styles.retryButton]} onPress={handleRetry}>\n                  <Ionicons name=\"refresh\" size={20} color={theme.colors.text} />\n                  <Text style={styles.buttonText}>Retry</Text>\n                </Pressable>\n                <Pressable style={[styles.button, styles.confirmButton]} onPress={handleConfirm}>\n                  <Ionicons name=\"checkmark\" size={24} color={theme.colors.text} />\n                  <Text style={styles.buttonText}>Confirm</Text>\n                </Pressable>\n              </>\n            )}\n          </View>\n\n          <Text style={styles.hint}>Speak clearly and wait for the text to appear above</Text>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.8)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: theme.spacing.md,\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: theme.borderRadius.lg,\n    padding: theme.spacing.xl,\n    width: '100%',\n    maxWidth: 500,\n    ...theme.shadows.large,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: theme.spacing.xl,\n  },\n  closeButton: {\n    padding: theme.spacing.sm,\n  },\n  title: {\n    fontSize: theme.fontSizes.xl,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  microphoneContainer: {\n    alignItems: 'center',\n    marginVertical: theme.spacing.xl,\n  },\n  microphoneCircle: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n    backgroundColor: theme.colors.surfaceLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: theme.spacing.md,\n    borderWidth: 3,\n    borderColor: theme.colors.primary,\n  },\n  microphoneActive: {\n    backgroundColor: theme.colors.primary,\n    borderColor: theme.colors.success,\n    shadowColor: theme.colors.primary,\n    shadowOffset: { width: 0, height: 0 },\n    shadowOpacity: 0.8,\n    shadowRadius: 20,\n  },\n  statusText: {\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.textSecondary,\n    fontWeight: '500',\n  },\n  transcriptContainer: {\n    backgroundColor: theme.colors.background,\n    borderRadius: theme.borderRadius.md,\n    padding: theme.spacing.md,\n    marginBottom: theme.spacing.lg,\n  },\n  transcriptLabel: {\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textSecondary,\n    marginBottom: theme.spacing.sm,\n    fontWeight: '600',\n  },\n  transcript: {\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.text,\n    lineHeight: 22,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    gap: theme.spacing.md,\n    marginBottom: theme.spacing.md,\n  },\n  button: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: theme.spacing.md,\n    borderRadius: theme.borderRadius.md,\n    gap: theme.spacing.sm,\n  },\n  startButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  stopButton: {\n    backgroundColor: theme.colors.danger,\n  },\n  retryButton: {\n    backgroundColor: theme.colors.surfaceLight,\n  },\n  confirmButton: {\n    backgroundColor: theme.colors.success,\n  },\n  buttonText: {\n    fontSize: theme.fontSizes.md,\n    fontWeight: '600',\n    color: theme.colors.text,\n  },\n  message: {\n    fontSize: theme.fontSizes.md,\n    color: theme.colors.textSecondary,\n    textAlign: 'center',\n    marginVertical: theme.spacing.lg,\n    lineHeight: 22,\n  },\n  hint: {\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textTertiary,\n    textAlign: 'center',\n  },\n});\n","size_bytes":9850},"src/components/ActionCard.tsx":{"content":"import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { AutomationStep } from '../types';\nimport { theme } from '../utils/theme';\n\ninterface ActionCardProps {\n  step: AutomationStep;\n  index: number;\n}\n\nconst ACTION_ICONS: Record<AutomationStep['action'], keyof typeof Ionicons.glyphMap> = {\n  tap: 'hand-left-outline',\n  type: 'text-outline',\n  swipe: 'arrow-forward-outline',\n  scroll: 'arrow-down-outline',\n  wait: 'time-outline',\n  open_app: 'apps-outline',\n};\n\nconst STATUS_COLORS = {\n  pending: theme.colors.textSecondary,\n  running: theme.colors.warning,\n  completed: theme.colors.success,\n  failed: theme.colors.danger,\n};\n\nexport const ActionCard: React.FC<ActionCardProps> = ({ step, index }) => {\n  const iconName = ACTION_ICONS[step.action];\n  const statusColor = STATUS_COLORS[step.status || 'pending'];\n\n  return (\n    <View style={styles.card}>\n      <View style={styles.header}>\n        <View style={styles.iconContainer}>\n          <Ionicons name={iconName} size={24} color={theme.colors.primary} />\n        </View>\n        <View style={styles.stepInfo}>\n          <Text style={styles.stepNumber}>Step {index + 1}</Text>\n          <Text style={styles.actionType}>{step.action.replace('_', ' ').toUpperCase()}</Text>\n        </View>\n        <View style={[styles.statusDot, { backgroundColor: statusColor }]} />\n      </View>\n\n      <View style={styles.content}>\n        <Text style={styles.target}>{step.target}</Text>\n        {step.text && <Text style={styles.text}>Text: \"{step.text}\"</Text>}\n        <Text style={styles.reasoning}>{step.reasoning}</Text>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: theme.borderRadius.md,\n    padding: theme.spacing.md,\n    marginVertical: theme.spacing.sm,\n    ...theme.shadows.small,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: theme.spacing.md,\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: theme.borderRadius.sm,\n    backgroundColor: theme.colors.surfaceLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: theme.spacing.md,\n  },\n  stepInfo: {\n    flex: 1,\n  },\n  stepNumber: {\n    fontSize: theme.fontSizes.xs,\n    color: theme.colors.textSecondary,\n    marginBottom: 2,\n  },\n  actionType: {\n    fontSize: theme.fontSizes.md,\n    fontWeight: '600',\n    color: theme.colors.text,\n  },\n  statusDot: {\n    width: 10,\n    height: 10,\n    borderRadius: theme.borderRadius.full,\n  },\n  content: {\n    gap: theme.spacing.sm,\n  },\n  target: {\n    fontSize: theme.fontSizes.md,\n    fontWeight: '500',\n    color: theme.colors.text,\n  },\n  text: {\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textSecondary,\n    fontStyle: 'italic',\n  },\n  reasoning: {\n    fontSize: theme.fontSizes.sm,\n    color: theme.colors.textTertiary,\n    lineHeight: 18,\n  },\n});\n","size_bytes":2989},"replit.md":{"content":"# AI Assistant Mobile App\n\n## Overview\n\nThis is a React Native mobile application built with Expo that provides an AI-powered assistant with two primary modes: Chat Mode for conversational Q&A and Automation Mode for task execution planning. The app leverages OpenRouter's Polaris Alpha model to provide intelligent responses and task automation planning capabilities. It features a modern dark theme design and uses AsyncStorage for local data persistence.\n\n## Recent Changes\n\n**November 8, 2025 (Latest)**: Voice Input Feature Implementation\n- Added VoiceInput component with Web Speech API integration\n- Voice input works in browsers with recording modal and visual feedback\n- Transcription confirmation dialog before populating text fields\n- Integrated voice input into both Chat and Automation screens\n- Platform detection with graceful unsupported message for native platforms\n- Feature verified and architect-approved\n\n**November 8, 2025**: Complete implementation of AI Assistant app\n- Created all core services (PolarisService, AutomationService)\n- Built all UI components (MessageBubble, ActionCard, FloatingBubble, VoiceInput)\n- Implemented all app screens (Home, Chat, Automation, API Setup)\n- Added theme system with modern dark mode design\n- Configured AsyncStorage for API key and chat history persistence with web fallback\n- Set up Expo workflow running on port 8000\n- App is fully functional and ready to use with OpenRouter API key\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework**: React Native with Expo SDK 54\n- Uses Expo Router for file-based navigation with typed routes\n- Implements a tab-based navigation structure with Stack navigation for modals\n- Supports cross-platform deployment (Android, iOS, Web) with platform-specific optimizations\n\n**UI Components**:\n- Custom themed components (`ThemedText`, `ThemedView`) for consistent styling\n- Reusable UI components: `MessageBubble` for chat interface, `ActionCard` for automation steps, `FloatingBubble` for draggable AI button, `VoiceInput` for voice-to-text input\n- Uses `@expo/vector-icons` (Ionicons) exclusively for all iconography\n- Implements `react-native-reanimated` for smooth animations and gestures\n- Dark mode as primary design language with modern, sleek aesthetic\n\n**Voice Input** (`VoiceInput.tsx`):\n- Web Speech API integration for browser-based voice recognition\n- Modal interface with recording state visualization (animated microphone icon)\n- Real-time transcription with confirmation dialog\n- Platform detection - works on web browsers, shows message for native\n- Error handling for unsupported browsers or permission denials\n- User can retry recording or confirm transcription before populating input fields\n\n**State Management**:\n- Component-level state using React hooks (useState, useEffect)\n- No external state management library; relies on local state and AsyncStorage for persistence\n- Real-time UI updates during automation execution using callback patterns\n\n**Routing Structure**:\n- `/` - Home screen with navigation cards\n- `/chat` - Chat mode interface\n- `/automation` - Automation planning and execution\n- `/api-setup` - API key configuration\n- `/(tabs)` - Tab navigation container\n\n### Backend Architecture\n\n**AI Service Layer** (`PolarisService`):\n- OpenAI SDK client configured for OpenRouter API\n- Base URL: `https://openrouter.ai/api/v1`\n- Model: `openrouter/polaris-alpha` (free tier, 256K context, vision-capable)\n- Handles both text-based chat and image analysis capabilities\n- Error handling with descriptive user-facing messages\n\n**Automation Service** (`AutomationService`):\n- Manages step-by-step task execution with status tracking\n- Simulates automation delays based on action type\n- Validates automation steps before execution\n- Provides execution time estimation\n- Supports actions: tap, type, swipe, scroll, wait, open_app\n\n**Intent Detection** (`intents.ts`):\n- Keyword-based classification to route user input to chat vs automation mode\n- Pattern matching for action-oriented commands\n- Maintains list of automation-specific keywords\n\n### Data Storage Solutions\n\n**AsyncStorage Implementation**:\n- API key storage with timestamp metadata\n- Chat history persistence (limited to last 20 messages)\n- No external database dependencies\n- All data stored locally on device\n\n**Data Models**:\n- `Message`: Chat message with role (user/assistant), content, and timestamp\n- `AutomationStep`: Task step with action type, target, optional text, reasoning, and execution status\n- `ApiKeyConfig`: API key with creation timestamp\n\n### Design Patterns\n\n**Theme System**:\n- Centralized theme configuration in `src/utils/theme.ts`\n- Consistent color palette focused on dark mode\n- Standardized spacing, border radius, and shadow definitions\n- Responsive to system color scheme preferences\n\n**Component Architecture**:\n- Separation of concerns: UI components, services, utilities\n- Props-based component communication\n- TypeScript for type safety across all modules\n\n**Error Handling**:\n- Try-catch blocks in async operations\n- User-friendly alert messages\n- Graceful degradation when API key is missing\n\n## External Dependencies\n\n### Core Framework\n- **Expo SDK 54**: Cross-platform mobile development framework\n- **React Native 0.81.4**: Core mobile UI framework\n- **React 19.1.0**: JavaScript UI library\n\n### Navigation\n- **expo-router 6.0.7**: File-based routing system\n- **@react-navigation/native 7.1.6**: Navigation library\n- **@react-navigation/bottom-tabs 7.3.10**: Tab navigation\n\n### AI Integration\n- **openai 6.8.1**: OpenAI SDK for API communication\n- **OpenRouter API**: AI model provider (Polaris Alpha model)\n  - Endpoint: https://openrouter.ai/api/v1\n  - Free tier usage with API key authentication\n\n### UI & Animation\n- **@expo/vector-icons 15.0.2**: Icon library (Ionicons)\n- **react-native-reanimated 4.1.0**: Animation library\n- **react-native-gesture-handler 2.28.0**: Touch gesture handling\n- **expo-blur 15.0.7**: Blur effects for iOS tab bar\n\n### Storage & System\n- **@react-native-async-storage/async-storage 2.2.0**: Local key-value storage\n- **expo-constants 18.0.9**: System constants access\n- **expo-haptics 15.0.7**: Haptic feedback (iOS)\n\n### Development Tools\n- **TypeScript 5.9.2**: Static type checking\n- **ESLint 9.25.0**: Code linting with Expo config\n- **Jest 29.2.1**: Testing framework\n\n### Additional Expo Modules\n- expo-font: Custom font loading\n- expo-splash-screen: Splash screen management\n- expo-status-bar: Status bar styling\n- expo-linking: Deep linking support\n- expo-web-browser: In-app browser\n- react-native-safe-area-context: Safe area handling\n- react-native-screens: Native screen optimization","size_bytes":6753},"src/utils/theme.ts":{"content":"export const theme = {\n  colors: {\n    background: '#0A0A0A',\n    surface: '#1A1A1A',\n    surfaceLight: '#2A2A2A',\n    primary: '#6366F1',\n    primaryDark: '#4F46E5',\n    success: '#10B981',\n    danger: '#EF4444',\n    warning: '#F59E0B',\n    text: '#FFFFFF',\n    textSecondary: '#A1A1A1',\n    textTertiary: '#6B7280',\n    border: '#333333',\n  },\n  spacing: {\n    xs: 4,\n    sm: 8,\n    md: 16,\n    lg: 24,\n    xl: 32,\n    xxl: 48,\n  },\n  borderRadius: {\n    sm: 8,\n    md: 12,\n    lg: 16,\n    xl: 24,\n    full: 9999,\n  },\n  shadows: {\n    small: {\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 2 },\n      shadowOpacity: 0.25,\n      shadowRadius: 3.84,\n      elevation: 2,\n    },\n    medium: {\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 4 },\n      shadowOpacity: 0.3,\n      shadowRadius: 4.65,\n      elevation: 4,\n    },\n    large: {\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 8 },\n      shadowOpacity: 0.44,\n      shadowRadius: 10.32,\n      elevation: 8,\n    },\n  },\n  fonts: {\n    regular: 'System',\n    medium: 'System',\n    bold: 'System',\n  },\n  fontSizes: {\n    xs: 12,\n    sm: 14,\n    md: 16,\n    lg: 18,\n    xl: 24,\n    xxl: 32,\n  },\n};\n","size_bytes":1212},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"drizzle.config.ts":{"content":"import type { Config } from 'drizzle-kit';\nimport * as dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n  schema: './shared/schema.ts',\n  out: './drizzle',\n  dialect: 'postgresql',\n  dbCredentials: {\n    url: process.env.DATABASE_URL!,\n  },\n} satisfies Config;\n","size_bytes":270},"shared/schema.ts":{"content":"import { pgTable, serial, text, timestamp, varchar } from 'drizzle-orm/pg-core';\n\nexport const messages = pgTable('messages', {\n  id: serial('id').primaryKey(),\n  userId: varchar('user_id', { length: 255 }).notNull(),\n  role: varchar('role', { length: 20 }).notNull(),\n  content: text('content').notNull(),\n  createdAt: timestamp('created_at').defaultNow().notNull(),\n});\n\nexport type Message = typeof messages.$inferSelect;\nexport type InsertMessage = typeof messages.$inferInsert;\n","size_bytes":483},"server/index.ts":{"content":"import express from 'express';\nimport cors from 'cors';\nimport dotenv from 'dotenv';\nimport { db } from './db';\nimport { messages } from '../shared/schema';\nimport { eq, desc } from 'drizzle-orm';\n\ndotenv.config();\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\napp.use(cors());\napp.use(express.json());\n\napp.get('/api/messages/:userId', async (req, res) => {\n  try {\n    const { userId } = req.params;\n    const userMessages = await db\n      .select()\n      .from(messages)\n      .where(eq(messages.userId, userId))\n      .orderBy(desc(messages.createdAt))\n      .limit(20);\n    \n    res.json(userMessages.reverse());\n  } catch (error) {\n    console.error('Error fetching messages:', error);\n    res.status(500).json({ error: 'Failed to fetch messages' });\n  }\n});\n\napp.post('/api/messages', async (req, res) => {\n  try {\n    const { userId, role, content } = req.body;\n    \n    if (!userId || !role || !content) {\n      return res.status(400).json({ error: 'Missing required fields' });\n    }\n\n    const [newMessage] = await db\n      .insert(messages)\n      .values({ userId, role, content })\n      .returning();\n\n    const allMessages = await db\n      .select()\n      .from(messages)\n      .where(eq(messages.userId, userId))\n      .orderBy(desc(messages.createdAt));\n\n    if (allMessages.length > 20) {\n      const messagesToDelete = allMessages.slice(20);\n      const idsToDelete = messagesToDelete.map(msg => msg.id);\n      \n      for (const id of idsToDelete) {\n        await db.delete(messages).where(eq(messages.id, id));\n      }\n    }\n\n    res.json(newMessage);\n  } catch (error) {\n    console.error('Error creating message:', error);\n    res.status(500).json({ error: 'Failed to create message' });\n  }\n});\n\napp.delete('/api/messages/:userId', async (req, res) => {\n  try {\n    const { userId } = req.params;\n    await db.delete(messages).where(eq(messages.userId, userId));\n    res.json({ success: true });\n  } catch (error) {\n    console.error('Error deleting messages:', error);\n    res.status(500).json({ error: 'Failed to delete messages' });\n  }\n});\n\napp.listen(PORT, () => {\n  console.log(`API server running on port ${PORT}`);\n});\n","size_bytes":2167}},"version":2}